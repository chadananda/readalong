<!DOCTYPE html>
<html> 
  <title>Read-along update</title>
<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/fontawesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="aligned.css">
  <style> 
    body {margin: 1em; margin-left: 2em; font-family: "Comic Sans MS"}
    p {position: relative; overflow-wrap: break-word; word-wrap: break-word; font-size: 16pt; line-height: 1.75em; padding: 15px; margin:5px; border: 2px solid silver; border-radius:.5em}
  </style>
  <script src="../readalong.js"></script>
</head> 
<body>
  
<h1> The Gospel of Wealth </h1>

<p id='a365' data-audiosrc="gospel-wealth-single.mp3">

  <w data-map="0,1315">The </w><w data-map="1315,610">inevitable </w><w data-map="1925,455">result </w><w data-map="2380,140">of </w><w data-map="2520,360">such </w><w data-map="2880,55">a </w><w data-map="2935,125">mode </w><w data-map="3060,335">of </w><w data-map="3395,835">manufacture </w><w data-map="4230,705">was </w><w data-map="4935,385">crude </w><w data-map="5320,545">articles </w><w data-map="5865,135">at </w><w data-map="6000,310">high </w><w data-map="6310,730">prices. </w><w data-map="7040,995">To-day </w><w data-map="8035,80">the </w><w data-map="8115,460">world </w><w data-map="8575,395">obtains </w><w data-map="8970,725">commodities </w><w data-map="9695,230">of </w><w data-map="9925,535">excellent </w><w data-map="10460,925">quality </w><w data-map="11385,180">at </w><w data-map="11565,485">prices </w><w data-map="12050,225">which </w><w data-map="12275,250">even </w><w data-map="12525,125">the </w><w data-map="12650,580">preceding </w><w data-map="13230,660">generation </w><w data-map="13890,145">would </w><w data-map="14035,265">have </w><w data-map="14300,290">deemed </w><w data-map="14590,1650">incredible. </w><w data-map="16240,120">In </w><w data-map="16360,135">the </w><w data-map="16495,535">commercial </w><w data-map="17030,915">world </w><w data-map="17945,465">similar </w><w data-map="18410,455">causes </w><w data-map="18865,230">have </w><w data-map="19095,445">produced </w><w data-map="19540,425">similar </w><w data-map="19965,1095">results, </w><w data-map="21060,140">and </w><w data-map="21200,145">the </w><w data-map="21345,360">race </w><w data-map="21705,140">is </w><w data-map="21845,605">benefited </w><w data-map="22450,1450">thereby. </w><w data-map="23900,180">The </w><w data-map="24080,390">poor </w><w data-map="24470,505">enjoy </w><w data-map="24975,150">what </w><w data-map="25125,170">the </w><w data-map="25295,270">rich </w><w data-map="25565,265">could </w><w data-map="25830,420">not </w><w data-map="26250,480">before </w><w data-map="26730,1670">afford. </w><w data-map="28400,250">What </w><w data-map="28650,195">were </w><w data-map="28845,130">the </w><w data-map="28975,825">luxuries </w><w data-map="29800,515">have </w><w data-map="30315,350">become </w><w data-map="30665,115">the </w><w data-map="30780,855">necessaries </w><w data-map="31635,95">of </w><w data-map="31730,1090">life. </w><w data-map="32820,280">The </w><w data-map="33100,710">laborer </w><w data-map="33810,350">has </w><w data-map="34160,315">now </w><w data-map="34475,370">more </w><w data-map="34845,575">comforts </w><w data-map="35420,140">than </w><w data-map="35560,70">the </w><w data-map="35630,495">farmer </w><w data-map="36125,495">had </w><w data-map="36620,155">a </w><w data-map="36775,65">few </w><w data-map="36840,665">generations </w><w data-map="37505,1275">ago. </w><w data-map="38780,90">The </w><w data-map="38870,485">farmer </w><w data-map="39355,270">has </w><w data-map="39625,265">more </w><w data-map="39890,640">luxuries </w><w data-map="40530,200">than </w><w data-map="40730,165">the </w><w data-map="40895,420">landlord </w><w data-map="41315,885">had, </w><w data-map="42200,80">and </w><w data-map="42280,160">is </w><w data-map="42440,195">more </w><w data-map="42635,490">richly </w><w data-map="43125,295">clad </w><w data-map="43420,235">and </w><w data-map="43655,270">better </w><w data-map="43925,1195">housed. </w><w data-map="45120,170">The </w><w data-map="45290,635">landlord </w><w data-map="45925,215">has </w><w data-map="46140,495">books </w><w data-map="46635,225">and </w><w data-map="46860,690">pictures </w><w data-map="47550,330">rarer </w><w data-map="47880,700">and </w><w data-map="48580,555">appointments </w><w data-map="49135,455">more </w><w data-map="49590,950">artistic </w><w data-map="50540,175">than </w><w data-map="50715,155">the </w><w data-map="50870,450">king </w><w data-map="51320,175">could </w><w data-map="51495,175">then </w><w data-map="51670,1370">obtain.</w>

 </p>


</body>
</html>




<script> 
window.addEventListener('load', function (e) {  

  let args = { 
    playbackRate: 1.8,
    prevOffsetTop: 0, 
    forceLineScroll: true, 
    block_duration: 0,  
    block_duration_adjusted: 0,
    keep_highlight_on_pause: false
  }
  let events = {
    on_pause: onAudioPause,
    on_resume: onAudioResume,
    on_move: onAudioMove,
    on_start: onAudioStart,
    on_complete: onAudioComplete,
    on_newline: onAudioNewline
  } 
  let ra = new ReadAlong(args, events)  
  ra.playBlock('a365')   
  setTimeout(() => { ra.changePlayRate(.8) }, 10000) 
  setTimeout(() => { ra.changePlayRate(1.2) }, 20000) 

})


function onAudioMove(word) {
  console.log('on_move event', `"${word.text.trim()}"`)
}
function onAudioStart(blockid, words, duration, rate) {
  console.log('on_start event', `${blockid}, ${words.length} words, ${duration}ms, rate: ${rate}`)
}
function onAudioPause(word) {
  console.log('on_pause event', `"${word.text.trim()}"`)
}
function onAudioResume(word) {
  console.log('on_resume event', `"${word.text.trim()}"`)
}
function onAudioComplete(blockid){
  console.log('on_complete event:', `block: #${blockid}`)
}
function onAudioNewline(from, to, complete) {
  console.log('on_newline event', `${from}, ${to}`, ', Percent complete: ', `${complete}%`)
}
  
// function blockClickEvent(e) {   
//   let clickType, mapData  
//   let left = e.target.offsetLeft
//   let right = e.target.offsetWidth + e.target.offsetLeft
//   let click = e.x 
//   if (click > right) {
//     clickType = 'gap'
//     mapData = e.target.dataset.gap
//   }else if (click < left) {
//     clickType = 'gapbefore'
//     mapData = e.target.dataset.gapbefore
//   } else { 
//     clickType = 'word'
//     mapData = e.target.dataset.map 
//   }
//   let audioMap = {
//     audio: e.target.parentNode.dataset.audio,
//     mapData: mapData,
//     clickType: clickType,
//     block_id:  e.target.parentNode.id
//   } 
//   clickWord (clickType, audioMap, e.target) 
// }
  
// function clickWord(clickType, audioMap, node) {
//   //console.log(clickType, audioMap, node) 
//   let src = `${audioMap.audio}#${audioMap.mapData}`
//   if (!audioMap.mapData) console.log('No audio here...')
//     else console.log(`Audio for ${clickType} at: file:\/\/${src}`)

//   //playWord(src)
// }  

function loadAudio(src) {
  // let source = document.getElementById('readalong-source')
  // let audio = document.getElementById('readalong-audio')
  // source.src = src
  // audio.load() 
}

function playWord(src) {
  // let source = document.getElementById('readalong-source')
  // let audio = document.getElementById('readalong-audio')
  // source.src = src
  // audio.load()
  // audio.play() 
}
</script>



